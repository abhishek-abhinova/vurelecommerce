(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,56909,e=>{"use strict";let t=(0,e.i(75254).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],56909)},35804,e=>{"use strict";var t=e.i(71645),s=e.i(34620);function a(e){let[a,r]=t.useState(void 0);return(0,s.useLayoutEffect)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let s,a;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,a=t.blockSize}else s=e.offsetWidth,a=e.offsetHeight;r({width:s,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),a}e.s(["useSize",()=>a])},23750,e=>{"use strict";var t=e.i(43476),s=e.i(47163);function a({className:e,type:a,...r}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}e.s(["Input",()=>a])},70065,e=>{"use strict";var t=e.i(43476),s=e.i(47163);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function r({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...a})}function d({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>d,"CardDescription",()=>n,"CardHeader",()=>r,"CardTitle",()=>i])},99682,e=>{"use strict";var t=e.i(71645);function s(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}e.s(["usePrevious",()=>s])},19036,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(81140),r=e.i(20783),i=e.i(30030),n=e.i(69340),d=e.i(99682),l=e.i(35804),o=e.i(48425),c="Switch",[u,h]=(0,i.createContextScope)(c),[m,p]=u(c),x=s.forwardRef((e,i)=>{let{__scopeSwitch:d,name:l,checked:c,defaultChecked:u,required:h,disabled:p,value:x="on",onCheckedChange:g,form:b,...y}=e,[j,w]=s.useState(null),N=(0,r.useComposedRefs)(i,e=>w(e)),k=s.useRef(!1),C=!j||b||!!j.closest("form"),[S=!1,_]=(0,n.useControllableState)({prop:c,defaultProp:u,onChange:g});return(0,t.jsxs)(m,{scope:d,checked:S,disabled:p,children:[(0,t.jsx)(o.Primitive.button,{type:"button",role:"switch","aria-checked":S,"aria-required":h,"data-state":v(S),"data-disabled":p?"":void 0,disabled:p,value:x,...y,ref:N,onClick:(0,a.composeEventHandlers)(e.onClick,e=>{_(e=>!e),C&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),C&&(0,t.jsx)(f,{control:j,bubbles:!k.current,name:l,value:x,checked:S,required:h,disabled:p,form:b,style:{transform:"translateX(-100%)"}})]})});x.displayName=c;var g="SwitchThumb",b=s.forwardRef((e,s)=>{let{__scopeSwitch:a,...r}=e,i=p(g,a);return(0,t.jsx)(o.Primitive.span,{"data-state":v(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:s})});b.displayName=g;var f=e=>{let{control:a,checked:r,bubbles:i=!0,...n}=e,o=s.useRef(null),c=(0,d.usePrevious)(r),u=(0,l.useSize)(a);return s.useEffect(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==r&&t){let s=new Event("click",{bubbles:i});t.call(e,r),e.dispatchEvent(s)}},[c,r,i]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:o,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function v(e){return e?"checked":"unchecked"}var y=e.i(47163);function j({className:e,...s}){return(0,t.jsx)(x,{"data-slot":"switch",className:(0,y.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:(0,t.jsx)(b,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}e.s(["Switch",()=>j],19036)},87378,e=>{"use strict";let t=(0,e.i(75254).default)("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);e.s(["Banknote",()=>t],87378)},15788,e=>{"use strict";let t=(0,e.i(75254).default)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);e.s(["Truck",()=>t],15788)},44234,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),r=e.i(56909),i=e.i(61659),n=e.i(87378),d=e.i(15788),l=e.i(94983),o=e.i(67881),c=e.i(23750),u=e.i(70065),h=e.i(19036),m=e.i(54858),p=e.i(20682);let x="https://vurele-backend.onrender.com";function g(){let e=(0,a.useRouter)(),{toast:g}=(0,p.useToast)(),[b,f]=(0,s.useState)(!0),[v,y]=(0,s.useState)(!1),[j,w]=(0,s.useState)({cod_enabled:!0,online_enabled:!0}),[N,k]=(0,s.useState)({free_delivery_minimum:800,delivery_charge:85}),[C,S]=(0,s.useState)({whatsapp_number:"",whatsapp_message:"Hi! I am interested in your products."});(0,s.useEffect)(()=>{let t=(0,m.getCurrentUser)();t&&t.is_admin?_():e.push("/login")},[e]);let _=async()=>{try{let e=await fetch(`${x}/api/settings/payment`,{headers:{Authorization:`Bearer ${(0,m.getAuthToken)()}`}});if(e.ok){let t=await e.json();w(t)}let t=await fetch(`${x}/api/settings/shipping`,{headers:{Authorization:`Bearer ${(0,m.getAuthToken)()}`}});if(t.ok){let e=await t.json();k(e)}let s=await fetch(`${x}/api/settings/whatsapp`,{headers:{Authorization:`Bearer ${(0,m.getAuthToken)()}`}});if(s.ok){let e=await s.json();S(e)}}catch(t){t.message?.includes("401")&&(m.authAPI.logout(),e.push("/login"))}finally{f(!1)}},A=async()=>{y(!0);try{if(!(await fetch(`${x}/api/admin/settings/payment`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(0,m.getAuthToken)()}`},body:JSON.stringify(j)})).ok)throw Error("Failed to save payment settings");if(!(await fetch(`${x}/api/admin/settings/shipping`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(0,m.getAuthToken)()}`},body:JSON.stringify(N)})).ok)throw Error("Failed to save shipping settings");if(!(await fetch(`${x}/api/admin/settings/whatsapp`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(0,m.getAuthToken)()}`},body:JSON.stringify(C)})).ok)throw Error("Failed to save WhatsApp settings");g({title:"Success",description:"All settings saved successfully"})}catch(e){g({title:"Error",description:e.message||"Failed to save settings",variant:"destructive"})}finally{y(!1)}};return b?(0,t.jsx)("div",{className:"p-8 flex items-center justify-center min-h-screen",children:(0,t.jsx)("p",{children:"Loading..."})}):(0,t.jsxs)("div",{className:"p-8 max-w-4xl",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Settings"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage site-wide settings"})]}),(0,t.jsxs)(u.Card,{children:[(0,t.jsxs)(u.CardHeader,{children:[(0,t.jsxs)(u.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(i.CreditCard,{className:"h-5 w-5"})," Payment Methods"]}),(0,t.jsx)(u.CardDescription,{children:"Enable or disable payment options for the entire website"})]}),(0,t.jsxs)(u.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,t.jsx)(n.Banknote,{className:"h-5 w-5 text-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:"Cash on Delivery (COD)"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Allow customers to pay when they receive their order"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`text-sm ${j.cod_enabled?"text-green-600":"text-gray-500"}`,children:j.cod_enabled?"Enabled":"Disabled"}),(0,t.jsx)(h.Switch,{checked:j.cod_enabled,onCheckedChange:e=>w(t=>({...t,cod_enabled:e}))})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,t.jsx)(i.CreditCard,{className:"h-5 w-5 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:"Online Payment (Razorpay)"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Allow customers to pay online via UPI, cards, or net banking"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`text-sm ${j.online_enabled?"text-green-600":"text-gray-500"}`,children:j.online_enabled?"Enabled":"Disabled"}),(0,t.jsx)(h.Switch,{checked:j.online_enabled,onCheckedChange:e=>w(t=>({...t,online_enabled:e}))})]})]}),!j.cod_enabled&&!j.online_enabled&&(0,t.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-red-700 font-medium",children:"⚠️ Warning: Both payment methods are disabled. Customers will not be able to place orders."})}),(0,t.jsx)("div",{className:"flex justify-end pt-4 border-t",children:(0,t.jsxs)(o.Button,{onClick:A,disabled:v,children:[(0,t.jsx)(r.Save,{className:"h-4 w-4 mr-2"}),v?"Saving...":"Save Settings"]})})]})]}),(0,t.jsxs)(u.Card,{className:"mt-6",children:[(0,t.jsxs)(u.CardHeader,{children:[(0,t.jsxs)(u.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(d.Truck,{className:"h-5 w-5"})," Shipping Settings"]}),(0,t.jsx)(u.CardDescription,{children:"Configure delivery charges based on order value"})]}),(0,t.jsxs)(u.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-muted/50 rounded-lg",children:[(0,t.jsx)("label",{className:"text-sm font-medium block mb-2",children:"Free Delivery Minimum (₹)"}),(0,t.jsx)(c.Input,{type:"number",value:N.free_delivery_minimum,onChange:e=>k(t=>({...t,free_delivery_minimum:parseInt(e.target.value)||0})),className:"max-w-[200px]"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Orders above this amount get free delivery"})]}),(0,t.jsxs)("div",{className:"p-4 bg-muted/50 rounded-lg",children:[(0,t.jsx)("label",{className:"text-sm font-medium block mb-2",children:"Delivery Charge (₹)"}),(0,t.jsx)(c.Input,{type:"number",value:N.delivery_charge,onChange:e=>k(t=>({...t,delivery_charge:parseInt(e.target.value)||0})),className:"max-w-[200px]"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Charge for orders below minimum"})]})]}),(0,t.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,t.jsx)("strong",{children:"Current Policy:"})," Free delivery for orders ₹",N.free_delivery_minimum,"+ | ₹",N.delivery_charge," charge for orders below ₹",N.free_delivery_minimum]})}),(0,t.jsx)("div",{className:"flex justify-end pt-4 border-t",children:(0,t.jsxs)(o.Button,{onClick:A,disabled:v,children:[(0,t.jsx)(r.Save,{className:"h-4 w-4 mr-2"}),v?"Saving...":"Save All Settings"]})})]})]}),(0,t.jsxs)(u.Card,{className:"mt-6",children:[(0,t.jsxs)(u.CardHeader,{children:[(0,t.jsxs)(u.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(l.MessageCircle,{className:"h-5 w-5 text-green-600"})," WhatsApp Settings"]}),(0,t.jsx)(u.CardDescription,{children:"Configure WhatsApp chat button"})]}),(0,t.jsxs)(u.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-muted/50 rounded-lg",children:[(0,t.jsx)("label",{className:"text-sm font-medium block mb-2",children:"WhatsApp Number (with country code)"}),(0,t.jsx)(c.Input,{type:"text",placeholder:"919876543210",value:C.whatsapp_number,onChange:e=>S(t=>({...t,whatsapp_number:e.target.value}))}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Enter number without + or spaces (e.g., 919876543210)"})]}),(0,t.jsxs)("div",{className:"p-4 bg-muted/50 rounded-lg",children:[(0,t.jsx)("label",{className:"text-sm font-medium block mb-2",children:"Default Message"}),(0,t.jsx)(c.Input,{type:"text",value:C.whatsapp_message,onChange:e=>S(t=>({...t,whatsapp_message:e.target.value}))}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Pre-filled message when user clicks WhatsApp"})]})]}),!C.whatsapp_number&&(0,t.jsx)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-yellow-700",children:"⚠️ WhatsApp button will not show until you add a phone number."})}),(0,t.jsx)("div",{className:"flex justify-end pt-4 border-t",children:(0,t.jsxs)(o.Button,{onClick:A,disabled:v,children:[(0,t.jsx)(r.Save,{className:"h-4 w-4 mr-2"}),v?"Saving...":"Save All Settings"]})})]})]})]})}e.s(["default",()=>g])}]);